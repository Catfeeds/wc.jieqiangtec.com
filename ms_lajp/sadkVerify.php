<?php

require_once("php_java.php");//引用LAJP提供的PHP脚本

//需要解密的数据，base64格式,

//下一行解密对应的证书：TestData/sm2/demo_123123.sm2,123123,TestData/sm2/cmbc.cer
//$encodeData ="MIIESAYKKoEcz1UGAQQCA6CCBDgwggQ0AgECMYGdMIGaAgECgBTWsfSf9q0WjX496qMJifSHCuotgzANBgkqgRzPVQGCLQMFAARw6uiNp4UcTc9IwdJqXCioBKVceaat7vdt/Iy0QAeduOxcn7ffu0NJPcw0mBUrXkE6vE2zGl00oCq0szflcB6dDjCJBBgHoGGmLxby+pT3ZeetsHzeXnTmcD3KrOsB6mwOHrL6uQwGf9hzPkGnnGEzfzCCA40GCiqBHM9VBgEEAgEwGwYHKoEcz1UBaAQQcjijBgdKp/cBLQWdXr8ZnYCCA2C11r+GeXx779AfA2CeducLVH6LnfkAmOWISeicyRjG6VZmhdBue/m7YDvMon4ZEVT1D+Z/xv4zv7AxpZd7bnwO4OjzmUYQ2DoxcJ3ZZW1mcXotUvad8mRrK40NLq7RdY6+niEJLn68eVny68nHTwCGSsXrwdlfkQ352wW1s1KiEdIxGMKXPsSPtqCKuwAazsM1LPvyColf6sARHkEszK7N0fPwH2QMd/LQtmWLonmcnq5ZAvM/BDBwrlq9nSg8BmB46m/ZOlhRO49df64KSHmVT9H0TP7AxFTZi5+4Lg3EBkBE09XH16U9/igvN+VVYcAUKnVW4ayxqX7uDRpzmyKn8hjgh2OR2S9qzLPv2yGZ3rsC34F+fCoGtWThslNZnlIi25mq6E/wZltxLxZVyvxnszwXdILfHdMIp+lXQY77CsSLruSn9jPNwXFJEt+VCsSRqGt70jJSFjPos6UX+4KCQhPDItaXxXXDnDV7Imi/b6XMTO4k8yy/4v4DOAGJFxev8lVQ3QU465KWN7K6L+2EstaHk1Ha2HNws5y8sfGxrk8gmsGeKsMA71qcYKmBNcOPbdFiZgLN/Ft3U9pqS3umkFXmwow399ef2Lq0IYXyWDoywxbRHvUaWk/Og2axCp3DY10R9yrNUbmtSPpKVNEZQtJ8+BEoW03sAEsrk0SoTEw91D5GbfTm9XAaYU0uWFoQQwqYTpa4tUmzjS7owu2ssRa2dvfdtroGksYmJMc+4l7HKnvCnZCSMI73XUsjHMW4fVzGUACvzlEmNU9nmEWPUXvy261SFET0ZplPEZBW0hGSe3n7k/fR/IfiKGMnayUoYrCTj45ma1V1L7N3eG17uyinKhVTS1bEyX7JKBoW1axgAPJ1ePRbui4//QAeBXmsALjl4sxrSeQd7IHUubOZtpWRuiPH6WesOe7fMv8ltxoSxm2hxhINzXymr4PBOhBG7i82G0dbi6+RDEYZxE7V5BHs5SwgaRs+FU69zRmEGa3G4xt2n4Z9+nu+Fu9Qu7weNSIvZA0JcBYH3gztNv0U6sKgjMaJlVn6+EUPz9MDBP6OJ8IONZjwt0Zdsnzb3RDL9ZEqB1rb25TFrF4pvEPK1d+KwB/SuvDn3jiT5qhggKuzt8wOPyEDzjMQB/mOtAs=";  

//下一行解密对应的证书：TestData/rsa/yongyou_11111111.pfx,11111111,TestData/rsa/cmbc.cer
//$encodeData ="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";  

$base64Encode  = $_REQUEST['base64Encode'];
//$base64Encode  = trim($base64Encode);
$base64Encode  = trim(base64_encode($base64Encode));
try
{
	/**
     * 解密和验证签名
     * 
     * @param base64EnvelopeMessage
     *            BASE64字符串密文消息
     * @return 执行结果（BASE64字符串）
		 *	 
     */
	$ret = lajp_call("cfca.sadk.cmbc.tools.php.PHPDecryptKit::DecryptAndVerifyMessage", $base64Encode);
  echo "{$ret}<br>";
  // echo "{$base64Encode}<br>";
}
catch(Exception $e)
{
  echo "Err:{$e}<br>";
}
?>
<a href="index.html">return</a>